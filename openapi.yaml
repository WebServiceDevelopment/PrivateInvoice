---

openapi: 3.0.3
info:
  version: 1.0.0
  title: PrivateInvoice
  description: >-
    PrivateInvoice API
  termsOfService: 'http://swagger.io/terms/'
  contact:
    name: Swagger API Team
    email: apiteam@swagger.io
    url: 'http://swagger.io'
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0.html'

components:
  securitySchemes:
    basicAuth: 
      type: http
      scheme: basic

servers:
- url: http://localhost:3000/
  description: Seller Server
- url: http://localhost:3001/
  description: Buyer Server


security:
  - basicAuth: []

tags:
  - name: "Contacts"
    description: "Paths related to handling contacts"
  - name: "Invoice"
    description: "Paths related to handling invoices"
  - name: "Session"
    description: "Paths related to handling logins and sessions"
  - name: "Settings"
    description: "Paths related to handling settings"
  - name: "Trace"
    description: "Paths related to sending and receiving presentations"
  - name: "Tray"
    description: "Paths related to handling document tray"
  - name: "TrayArchive"
    description: "Paths related to handling document trayArchive"
  - name: "TrayDraft"
    description: "Paths related to handling document trayDraft"
  - name: "Wallet"
    description: "Paths related to handling wallets"

paths:
  #1.1 /api/contacts
  #require('./routes/contacts.js');

  #1.1.1
  /api/contacts/createBusunessCard:
    post:
      description: >-
        \#1.1.1 This end point will generate a Verifiable Business Card
        that is signed with your contact details for the current date and
        time. This Verifiable Business Card will be returned as a JSON
        file that can be given to someone else to add to their Private Invoice
        contacts.

        The parameters to this end point provide the context of what relationship
        will be included in the Verifiable Business Card for contact details.
        These include where the contact will be a Buyer, Seller, or a Partner,
        the number of uses, and then expiration date for the Verifiable Business Card.
      operationId: contacts_generate
      tags:
        - "Contacts"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/contacts/schemas/Request_generate'
      responses:
        '200':
          description: generate response
          content:
            application/json:
              schema:
                $ref: '#/contacts/schemas/Responses_generate'

  #1.1.2
  /api/contacts/add:
    post:
      description: >-
        \#1.1.2 This end point will add a contact to your database
        when provided with a Verifiable Business Card. For example
        Alice exports a Verifiable Business Card and sends it to Bob.
        This end point is intended for Bob to POST the contents of the
        Verifiable Business Card to his node to add Alice as a contact.
      operationId: contacts_add
      tags:
        - "Contacts"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/contacts/schemas/Request_add'
      responses:
        '200':
          description: add response
          content:
            application/json:
              schema:
                $ref: '#/contacts/schemas/Responses_add'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/contacts/schemas/Error_add'

  #1.1.3
  /api/contacts/getContactList:
    get:
      description: \#1.1.3 contacts getContactList
      operationId: contacts_getContactList
      tags:
        - "Contacts"
      parameters:
        - in: query
          name: member_did
          required: true
          schema:
            type: string
      responses:
        '200':
          description: getContactList response
          content:
            application/json:
              schema:
                $ref: '#/contacts/schemas/Responses_getContactList'

  #2.1
  #require('./routes/buyer_invoice.js');
  #2.1.1
  /api/invoice/returnToSender:
    post:
      description: \#2.1.1 invoice returnToSender 
      operationId: invoice_returnToSender
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_returnToSender'
      responses:
        '200':
          description: returnToSender response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_returnToSender'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_returnToSender'

  #2.1.2
  /api/invoice/confirm:
    post:
      description: \#2.1.2 invoice confirm 
      operationId: invoice_confirm
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_confirm'
      responses:
        '200':
          description: confirm response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_confirm'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_confirm'

  #2.1.3
  /api/invoice/unconfirm:
    post:
      description: \#2.1.3 invoice unconfirm 
      operationId: invoice_unconfirm
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_confirm'
      responses:
        '200':
          description: unconfirm response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_unconfirm'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_unconfirm'

  #2.1.4
  /api/invoice/makePayment:
    post:
      description: \#2.1.4 invoice makePayment 
      operationId: invoice_makePayment
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_makePayment'
      responses:
        '200':
          description: makePayment response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_makePayment'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_makePayment'


  #2.2
  #require('./routes/buyer_invoice_document.js');
  #2.2.1
  /api/invoice/getDocumentBuyer:
    get:
      description: \#2.2.1 invoice getDocumentBuyer : This request is  from Buyer.
      operationId: invoice_getDocumentBuyer
      tags:
        - "Invoice"
      parameters:
        - in: query
          name: document_uuid
          required: true
          schema:
            type: string
      responses:
        '200':
          description: buyer_invoice_document response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_getDocumentBuyer'


  #2.2.2
  /api/invoice/getDocumentSeller:
    get:
      description: \#2.2.2 invoice getDocumentSeller 
      operationId: invoice_getDocumentSeller
      tags:
        - "Invoice"
      parameters:
        - in: query
          name: document_uuid
          required: true
          schema:
            type: string
      responses:
        '200':
          description: getDocumentSeller response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_getDocumentBuyer'

  #2.2.3
  /api/invoice/getArchiveDocumentBuyer:
    get:
      description: \#2.2.3 invoice getArchiveDocumentBuyer : This request is  from Buyer.
      operationId: invoice_getArchiveDocumentBuyer
      tags:
        - "Invoice"
      parameters:
        - in: query
          name: document_uuid
          required: true
          schema:
            type: string
      responses:
        '200':
          description: getArchiveDocumentBuyer response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_getArchiveDocumentBuyer'


  #2.2.4
  /api/invoice/getArchiveDocumentSeller:
    get:
      description: \#2.2.4 invoice getArchiveDocumentSeller 
      operationId: invoice_getArchiveDocumentSeller
      tags:
        - "Invoice"
      parameters:
        - in: query
          name: document_uuid
          required: true
          schema:
            type: string
      responses:
        '200':
          description: getArchiveDocumentSeller response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_getArchiveDocumentBuyer'


  #2.3
  #require('./routes/seller_invoice_archive.js');

  #2.3.1
  /api/invoice/sellerArchive:
    post:
      description: \#2.3.1 invoice sellerArchive 
      operationId: invoice_sellerArchive
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_sellerArchive'
      responses:
        '200':
          description: sellerArchive response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_sellerArchive'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_sellerArchive'


  #2.4
  #require('./routes/seller_invoice_document.js');

  #2.4.1
  /api/invoice/update:
    post:
      description: \#2.4.1 invoice update 
      operationId: invoice_update
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_update'
      responses:
        '200':
          description: Update response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_update'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_update'

  #2.4.2
  /api/invoice/getDraftDocument:
    get:
      description: \#2.4.2 invoice getDraftDocument
      operationId: invoice_getDraftDocument
      tags:
        - "Invoice"
      parameters:
        - in: query
          name: document_uuid
          required: true
          schema:
            type: string
      responses:
        '200':
          description: getDraftDocument response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_getDraftDocument'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_getDraftDocument'

  #2.4.3
#  /api/invoice/getDocument:
#    post:
#      description: \#2.4.3 invoice getDocument
#      operationId: invoice_getDocument
#      tags:
#        - "Invoice"
#      parameters:
#        - in: "body"
#          name: "body"
#          required: true
#          schema:
#            $ref: '#/invoice/schemas/Request_getDocument'
#      responses:
#        '200':
#          description: getDocument response
#          content:
#            application/json:
#              schema:
#                $ref: '#/invoice/schemas/Responses_getDocument'
#        default:
#          description: unexpected error
#          content:
#            application/json:
#              schema:
#                $ref: '#/invoice/schemas/Error_getDocument'

  #2.4.4
#  /api/invoice/getArchiveDocument:
#    post:
#      description: \#2.4.4 invoice getArchiveDocument
#      operationId: invoice_getArchiveDocument
#      tags:
#        - "Invoice"
#      parameters:
#        - in: "body"
#          name: "body"
#          required: true
#          schema:
#            $ref: '#/invoice/schemas/Request_getArchiveDocument'
#      responses:
#        '200':
#          description: getArchiveDocument response
#          content:
#            application/json:
#              schema:
#                $ref: '#/invoice/schemas/Responses_getArchiveDocument'
#        default:
#          description: unexpected error
#          content:
#            application/json:
#              schema:
#                $ref: '#/invoice/schemas/Error_getArchiveDocument'

  #2.4.5
  /api/invoice/create:
    post:
      description: \#2.4.5 invoice create
      operationId: invoice_create
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_create'
      responses:
        '200':
          description: create response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_create'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_create'

  #2.5
  #require('./routes/seller_invoice.js');
  
  #2.5.1
  /api/invoice/send:
    post:
      description: \#2.5.1 invoice send
      operationId: invoice_send
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_send'
      responses:
        '200':
          description: send response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_send'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_send'

  #2.5.2
  /api/invoice/recreate:
    post:
      description: \#2.5.2 invoice recreate
      operationId: invoice_recreate
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_recreate'
      responses:
        '200':
          description: recreate response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_recreate'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_recreate'

  #2.5.3
  /api/invoice/withdraw:
    post:
      description: \#2.5.3 invoice withdraw
      operationId: invoice_withdraw
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_withdraw'
      responses:
        '200':
          description: withdraw response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_withdraw'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_withdraw'


  #2.6
  #require('./routes/seller_invoice_trash.js');

  #2.6.1
  /api/invoice/trashDraft:
    post:
      description: \#2.6.1 invoice trashDraft
      operationId: invoice_trashDraft
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_trashDraft'
      responses:
        '200':
          description: trashDraft response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_trashDraft'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_trashDraft'

  #2.6.2
  /api/invoice/trash:
    post:
      description: \#2.6.2 invoice trash
      operationId: invoice_trash
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_trash'
      responses:
        '200':
          description: trash response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_trash'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Error_trash'


  #2.7
  #require('./routes/softDelete.js');

  #2.7.1
  /api/invoice/softDeleteSeller:
    post:
      description: \#2.7.1 invoice softDeleteSeller
      operationId: invoice_softDeleteSeller
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_softDeleteSeller'
      responses:
        '200':
          description: softDeleteSeller response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_softDeleteSeller'

  #2.7.2
  /api/invoice/softDeleteBuyer:
    post:
      description: \#2.7.1 invoice softDeleteBuyer
      operationId: invoice_softDeleteBuyer
      tags:
        - "Invoice"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/invoice/schemas/Request_softDeleteBuyer'
      responses:
        '200':
          description: softDeleteBuyer response
          content:
            application/json:
              schema:
                $ref: '#/invoice/schemas/Responses_softDeleteBuyer'



  #5.1
  #require('./routes/presentations.js');
  /api/presentations/available:
    post:
      tags:
        - "Trace"
      description: >-
        This is the end point is defined by the Traceability API which
        Private Invoice uses to communicate with other nodes. When called,
        this end point will return a domain and challenge for signing a
        Verifiable Presentation.
      requestBody:
        description: Description of the flow
        content:
          application/json:
            schema:
                $ref: '#/presentations/schemas/NotifyPresentationAvailableRequest'
      responses:
        200:
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/presentations/schemas/NotifyPresentationAvailableResponse'
      security: {}

  /api/presentations/submissions:
    post:
      tags:
        - "Trace"
      description: >-
        This end point is defined by the Traceability API which Private used to
        communicate with other nodes. When called this end point takes a signed
        Verifiable Presentation. This end point first checks which memeber did
        the presentation is being sent to, and then confirms that the issuer is
        in the list of contacts. It then proceeds to check that the Verifible
        Presentation has a valid proof. The credentials of the Verifiable Presentation
        will then be handled by type.
      requestBody:
        description: A Verifiable Presentation to submit
        content:
          application/json:
            schema:
                $ref: '#/presentations/schemas/VerifiablePresentation'
      responses:
        "200":
          description: Expected response to a valid request
          content:
            application/json:
              schema:
                $ref: '#/presentations/schemas/VerificationResult'

      security: {}


  #6.1
  #require('./routes/session.js');

  #6.1.1
  /api/session/logout:
    get:
      description: \#6.1.1 session logout
      operationId: session_logout
      tags:
        - "Session"
      responses:
        307:
          description: Redirect
          responseParameters:
            - in: query
              name: status
              description: the status of the instalation
              schema:
                oneOf:
                  - type: string
                    example: success
                    description: When the installation was successful
                  - type: string
                    example: error
                    description: When the installation was erroneous
          headers:
            location:
              description: Setup state based redirect
              schema:
                oneOf:
                  - type: string
                    description: If setup is done and valid for installation id, will
                      redirect to given redirect url
                  - type: string
                    description: If no setup exist for installation id, will redirect to
                      SumUp oauth page
                  - type: string
                    description: If error during authorization with SumUpl, e.g. non
                      matching editions, will redirect to a setup page for
                      further user action

  #6.1.2
  /api/session/check:
    get:
      description: >-
        The purpose of this end point is to provide a server-side call that will
        allow the client to get information about what session information is availble.
      tags:
        - "Session"
      responses:
        '200':
          description: >-
            If you have an active session, the response will show your session details
          content:
            application/json:
              schema:
                $ref: '#/session/schemas/Responses_check'

  #6.1.3
  /api/session/login:
    post:
      description: \#6.1.5 session login
      operationId: session_login
      tags:
        - "Session"
      requestBody:
        description: Parameters for logging in
        required: true
        content:
          application/json:
            schema:
              $ref: '#/session/schemas/Request_login'
      responses:
        '200':
          description: login response
          content:
            application/json:
              schema:
                $ref: '#/session/schemas/Responses_login'
      security: {}

  #6.1.4
  /api/session/signup:
    post:
      description: \#6.1.6 session signup
      operationId: session_signup
      tags:
        - "Session"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/session/schemas/Request_signup'
      responses:
        '200':
          description: signup response
          content:
            application/json:
              schema:
                $ref: '#/session/schemas/Responses_signup'
        default:
          description: unexpected error
          content:
            application/json:
              schema:
                $ref: '#/session/schemas/Error_signup'
      security: {}


  #require('./routes/session.js');
  #7.1
  #7.1.1
  /api/session/updateCompany:
    post:
      description: \#6.1.3 session updateCompany
      operationId: session_logout
      tags:
        - "Settings"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/session/schemas/Request_updateCompany'
      responses:
        '200':
          description: logout response
          content:
            application/json:
              schema:
                $ref: '#/settings/schemas/Responses_updateCompany'

  #7.1.2
  /api/session/updateProfile:
    post:
      description: \#6.1.4 session updateProfile
      operationId: session_updateProfile
      tags:
        - "Settings"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/session/schemas/Request_updateProfile'
      responses:
        '200':
          description: updateProfile response
          content:
            application/json:
              schema:
                $ref: '#/settings/schemas/Responses_updateProfile'


  #8.1
  #require('./routes/test.js');
  #/api/test:
  #  post:


  #9.1
  #require('./routes/tray.js');

  #9.1.1
  /api/tray/getCountBuyer:
    post:
      description: \#9.1.1 tray getCountBuyer
      operationId: tray_getCountBuyer
      tags:
        - "Tray"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/tray/schemas/Request_getCountBuyer'
      responses:
        '200':
          description: getCountBuyer response
          content:
            application/json:
              schema:
                $ref: '#/tray/schemas/Responses_getCountBuyer'

  #9.1.2
  /api/tray/getCountSeller:
    post:
      description: \#9.1.2 tray getCountSeller
      operationId: tray_getCountSeller
      tags:
        - "Tray"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/tray/schemas/Request_getCountSeller'
      responses:
        '200':
          description: getCountSeller response
          content:
            application/json:
              schema:
                $ref: '#/tray/schemas/Responses_getCountSeller'

  #9.1.3
  /api/tray/getFolderBuyer:
    post:
      description: \#9.1.3 tray getFolderBuyer
      operationId: tray_getFolderBuyer
      tags:
        - "Tray"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/tray/schemas/Request_getFolderBuyer'
      responses:
        '200':
          description: getFolderBuyer response
          content:
            application/json:
              schema:
                $ref: '#/tray/schemas/Responses_getFolderBuyer'

  #9.1.4
  /api/tray/getFolderSeller:
    post:
      description: \#9.1.4 tray getFolderSeller
      operationId: tray_getFolderSeller
      tags:
        - "Tray"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/tray/schemas/Request_getFolderSeller'
      responses:
        '200':
          description: getFolderSeller response
          content:
            application/json:
              schema:
                $ref: '#/tray/schemas/Responses_getFolderSeller'

  #9.1.5
  /api/tray/getTotalBuyer:
    post:
      description: \#9.1.5 tray getTotalBuyer
      operationId: tray_getTotalBuyer
      tags:
        - "Tray"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/tray/schemas/Request_getTotalBuyer'
      responses:
        '200':
          description: getTotalBuyer response
          content:
            application/json:
              schema:
                $ref: '#/tray/schemas/Responses_getTotalBuyer'

  #9.1.6
  /api/tray/getTotalSeller:
    post:
      description: \#9.1.6 tray getTotalSeller
      operationId: tray_getTotalSeller
      tags:
        - "Tray"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/tray/schemas/Request_getTotalSeller'
      responses:
        '200':
          description: getTotalSeller response
          content:
            application/json:
              schema:
                $ref: '#/tray/schemas/Responses_getTotalSeller'

  #10.1
  #require('./routes/tray_archive.js');

  #10.1.1
  /api/trayArchive/getCountBuyer:
    post:
      description: \#10.1.1 trayArchive getCountBuyer
      operationId: trayArchive_getCountBuyer
      tags:
        - "TrayArchive"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/trayArchive/schemas/Request_getCountBuyer'
      responses:
        '200':
          description: getCountBuyer response
          content:
            application/json:
              schema:
                $ref: '#/trayArchive/schemas/Responses_getCountBuyer'

  #10.1.2
  /api/trayArchive/getCountSeller:
    post:
      description: \#10.1.2 trayArchive getCountSeller
      operationId: trayArchive_getCountSeller
      tags:
        - "TrayArchive"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/trayArchive/schemas/Request_getCountSeller'
      responses:
        '200':
          description: getCountSeller response
          content:
            application/json:
              schema:
                $ref: '#/trayArchive/schemas/Responses_getCountSeller'

  #10.1.3
  /api/trayArchive/getFolderBuyer:
    post:
      description: \#10.1.3 trayArchive getFolderBuyer
      operationId: trayArchive_getFolderBuyer
      tags:
        - "TrayArchive"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/trayArchive/schemas/Request_getFolderBuyer'
      responses:
        '200':
          description: getFolderBuyer response
          content:
            application/json:
              schema:
                $ref: '#/trayArchive/schemas/Responses_getFolderBuyer'

  #10.1.4
  /api/trayArchive/getFolderSeller:
    post:
      description: \#10.1.4 trayArchive getFolderSeller
      operationId: trayArchive_getFolderSeller
      tags:
        - "TrayArchive"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/trayArchive/schemas/Request_getFolderSeller'
      responses:
        '200':
          description: getFolderSeller response
          content:
            application/json:
              schema:
                $ref: '#/trayArchive/schemas/Responses_getFolderSeller'

  #10.1.5
  /api/trayArchive/getTotalBuyer:
    post:
      description: \#10.1.5 trayArchive getTotalBuyer
      operationId: trayArchive_getTotalBuyer
      tags:
        - "TrayArchive"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/trayArchive/schemas/Request_getTotalBuyer'
      responses:
        '200':
          description: getTotalSeller response
          content:
            application/json:
              schema:
                $ref: '#/trayArchive/schemas/Responses_getTotalBuyer'

  #10.1.6
  /api/trayArchive/getTotalSeller:
    post:
      description: \#10.1.6 trayArchive getTotalSeller
      operationId: trayArchive_getTotalSeller
      tags:
        - "TrayArchive"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/trayArchive/schemas/Request_getTotalSeller'
      responses:
        '200':
          description: getTotalSeller response
          content:
            application/json:
              schema:
                $ref: '#/trayArchive/schemas/Responses_getTotalSeller'


  #11.1
  #require('./routes/seller_tray_drafts.js');
  /api/trayDrafts:

  #11.1.1
  /api/trayDraft/getCountSeller:
    post:
      description: \#11.1.1 trayDraft getCountSeller
      operationId: trayDraft
      tags:
        - "TrayDraft"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/trayDraft/schemas/Request_getCountSeller'
      responses:
        '200':
          description: getCountSeller response
          content:
            application/json:
              schema:
                $ref: '#/trayDraft/schemas/Responses_getCountSeller'

  #11.1.2
  /api/trayDraft/getFolderSeller:
    post:
      description: \#11.1.2 trayDraft getFolderSeller
      operationId: trayDraft
      tags:
        - "TrayDraft"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/trayDraft/schemas/Request_getFolderSeller'
      responses:
        '200':
          description: getFolderSeller response
          content:
            application/json:
              schema:
                $ref: '#/trayDraft/schemas/Responses_getFolderSeller'

  #11.1.3
  /api/trayDraft/getTotalSeller:
    post:
      description: \#11.1.3 trayDraft getTotalSeller
      operationId: trayDraft
      tags:
        - "TrayDraft"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: '#/trayDraft/schemas/Request_getTotalSeller'
      responses:
        '200':
          description: getTotalSeller response
          content:
            application/json:
              schema:
                $ref: '#/trayDraft/schemas/Responses_getTotalSeller'


  #12.1
  #require('./routes/wallet.js');
  #call by ActionWidget.js 

  #12.1.1
  /api/wallet/getReceiptInResentActivity: 
    get:
      description: \#12.1.1 wallet getReceiptInResentActivity
      operationId: wallet_getReceiptInResentActivity
      tags:
        - "Wallet"
      parameters:
        - in: query
          name: settlement_hash
          required: true
          schema:
            type: string
      responses:
        '200':
          description: getReceiptInResentActivity response
          content:
            application/json:
              schema:
                $ref: '#/wallet/schemas/Responses_getReceiptInResentActivity'

  #12.1.2
  /api/wallet/getResentActivityOfWallet:
    get:
      description: \#12.1.2 wallet getResentActivityOfWallet
      operationId: wallet_getResentActivityOfWallet
      tags:
        - "Wallet"
      parameters:
        - in: query
          name: list_max
          required: true
          schema:
            type: integer
            format: int64
        - in: query
          name: start_position
          required: true
          schema:
            type: integer
            format: int64

      responses:
        '200':
          description: getResentActivityOfWallet response
          content:
            application/json:
              schema:
                $ref: '#/wallet/schemas/Responses_getResentActivityOfWallet'

  #12.1.3
  /api/wallet/getWalletInfo:
    get:
      description: \#12.1.3 wallet getWalletInfo
      operationId: wallet_getWalletInfo
      tags:
        - "Wallet"

      responses:
        '200':
          description: getWalletInfo response
          content:
            application/json:
              schema:
                $ref: '#/wallet/schemas/Responses_getWalletInfo'

  #12.1.4
  /api/wallet/getCurrentBalanceOfBuyer:
    get:
      description: \#12.1.4 wallet getCurrentBalanceOfBuyer : This request is  from Buyer.
      operationId: wallet_getCurrentBalanceOfBuyer
      tags:
        - "Wallet"
      parameters:
        - in: query
          name: document_uuid
          required: true
          schema:
            type: string
      responses:
        '200':
          description: getCurrentBalanceOfBuyer response
          content:
            application/json:
              schema:
                $ref: '#/wallet/schemas/Responses_getCurrentBalanceOfBuyer'

  #12.1.5
  /api/wallet/getTransactionReceipt:
    get:
      description: \#12.1.5 wallet getTransactionReceipt
      operationId: wallet_getTransactionReceipt
      tags:
        - "Wallet"
      parameters:
        - in: query
          name: document_uuid
          required: true
          schema:
            type: string
        - in: query
          name: role
          required: true
          schema:
            type: string
        - in: query
          name: archive
          required: true
          schema:
            type: string
            enum: ["0","1"]
      responses:
        '200':
          description: getTransactionReceipt response
          content:
            application/json:
              schema:
                $ref: '#/wallet/schemas/Responses_getTransactionReceipt'

  #12.1.6
  /api/wallet/getIPFScidByTransactionHash:
    get:
      description: \#12.1.7 wallet getIPFScidByTransactionHash [JSON DATA]
      operationId: wallet_getIPFScidByTransactionHash
      tags:
        - "Wallet"
      parameters:
        - in: query
          name: transactionHash
          required: true
          schema:
            type: string
      responses:
        '200':
          description: getIPFScidByTransactionHash response
          content:
            application/json:
              schema:
                $ref: '#/wallet/schemas/Responses_getIPFScidByTransactionHash'

#------------------------------------- schemas ---------------------------------

contacts:
  schemas:
    #1.1.1
    Request_generate:
      type: object
      properties:
        buyer:
          type: string
        seller:
          type: string
        uses:
          type: string
        expire:
          type: string

    Responses_generate:
      required:
      properties:
        type: !anything

    #1.1.2
    Request_add:
      type: object
      properties:
        issuer:
          type: object
          properties:
            id:
              type: string

    Responses_add:
      required:
      properties:
        msg:
          type: string
          enum: ["okay"]

    Error_add:
      required:
        type: string

    #1.1.3

    Responses_getContactList:
      type: array
      items:
        type: object
        properties: 
          remote_origin:
            type: string
          remote_member_uuid:
            type: string
          remote_membername:
            type: string
          remote_organization:
            type: object
            properties: 
              name:
                type: string
              postcode:
                type: string
              address:
                type: string
              building:
                type: string
              department:
                type: string
          local_to_remote:
            type: integer
            format: int32
          remote_to_local:
            type: integer
            format: int32
          created_on:
            type: string
            description: RFC3339 UTC "Zulu" format, Datetime to set
            format: date-time
            pattern: pattern: /([0-9]{4})-(?:[0-9]{2})-([0-9]{2})T([0-9]{2}):(?:[0-9]{2}):(?:[0-9]{2}).(?:[0-9]{3})Z/


invoice:
  #2.1
  schemas:
    #2.1.1
    Request_returnToSender:
      type: object
      properties:
        id:
          type: integer
          format: int64
    Responses_returnToSender:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_returnToSender:
      $ref: '#/error/schemas/Responses_err_msg'
      
    #2.1.2
    Request_confirm:
      type: object
      properties:
        id:
          type: integer
          format: int64
    Responses_confirm:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_confirm:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.1.3
    Request_unconfirm:
      type: object
      properties:
        id:
          type: integer
          format: int64
    Responses_unconfirm:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_unconfirm:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.1.4
    Request_makePayment:
      type: object
      properties:
        id:
          type: integer
          format: int64
    Responses_makePayment:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_makePayment:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.2.1
    Responses_getDocumentBuyer:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string

    #2.2.2
    Responses_getDocumentSeller:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string

    #2.2.3
    Responses_getArchiveDocumentBuyer:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string

    #2.2.4
    Responses_getArchiveDocumentSeller:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string


    #2.4.1
    Request_update:
      type: object
      properties:
        id:
          type: integer
          format: int64
    Responses_update:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_update:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.4.2
    Responses_getDraftDocument:
      required:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_getDraftDocument:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.4.3
#    Request_getDocument:
#      type: object
#      properties:
#        id:
#          type: integer
#          format: int64
#    Responses_getDocument:
#      required:
#      properties:
#        err:
#          type: integer
#          format: int32
#        msg:
#          type: string
#    Error_getDocument:
#      $ref: '#/error/schemas/Responses_err_msg'

    #2.4.4
#    Request_getArchiveDocument:
#      type: object
#      properties:
#        id:
#          type: integer
#          format: int64
#    Responses_getArchiveDocument:
#      required:
#      properties:
#        err:
#          type: integer
#          format: int32
#        msg:
#          type: string
#    Error_getArchiveDocument:
#      $ref: '#/error/schemas/Responses_err_msg'

    #2.4.5
    Request_create:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_create:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_create:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.5.1
    Request_send:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_send:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_send:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.5.2
    Request_recreate:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_recreate:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_recreate:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.5.3
    Request_withdraw:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_withdraw:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_withdraw:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.6.1
    Request_trashDraft:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_trashDraft:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_trashDraft:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.6.2
    Request_trash:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_trash:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string
    Error_trash:
      $ref: '#/error/schemas/Responses_err_msg'

    #2.7.1
    Request_softDeleteSeller:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_softDeleteSeller:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string

    #2.7.2
    Request_softDeleteBuyer:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_softDeleteBuyer:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string



presentations:
  schemas:

    Credential:
      type: object
      required:
        - '@context'
        - type
        - issuer
        - issuanceDate
        - credentialSubject
      properties:
        '@context':
          description: This JSON-LD Context defining all terms in the Credential.
          type: array
          items:
            type: string
        id:
          description: The IRI identifying the Credential
          type: string
        type:
          description: The Type of the Credential
          type: array
          items:
            type: string
        issuer:
          description: This value MUST match the assertionMethod used to create the Verifiable Credential.
          oneOf:
            - type: string
            - type: object
              required:
                - id
              properties:
                id:
                  description: The IRI identifying the Issuer
                  type: string
        issuanceDate:
          description: This value MUST be an XML Date Time String
          type: string
        credentialSubject:
          oneOf:
            - type: string
            - type: object
              properties:
                id:
                  description: The IRI identifying the Subject
                  type: string
      example:
        {
          '@context': ['https://www.w3.org/2018/credentials/v1'],
          'id': 'urn:uuid:07aa969e-b40d-4c1b-ab46-ded252003ded',
          'type': ['VerifiableCredential'],
          'issuer': 'did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn',
          'issuanceDate': '2010-01-01T19:23:24Z',
          'credentialSubject': 'did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn',
        }

    CredentialLinkedDataProof:
      title: Credential Linked Data Proof
      allOf:
        - $ref: '#/presentations/schemas/LinkedDataProof'
        - type: object
          properties:
            proofPurpose:
              type: string
              description: Credentials rely on assertionMethod proof purpose.
              enum: [assertionMethod]

    VerifiableCredential:
      title: Verifiable Credential
      type: object
      allOf:
        - $ref: '#/presentations/schemas/Credential'
        - type: object
          properties:
            proof:
              $ref: '#/presentations/schemas/CredentialLinkedDataProof'
      example:
        {
          "@context": ["https://www.w3.org/2018/credentials/v1"],
          "id": "urn:uuid:07aa969e-b40d-4c1b-ab46-ded252003ded",
          "type": ["VerifiableCredential"],
          "issuer": "did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn",
          "issuanceDate": "2010-01-01T19:23:24Z",
          "credentialSubject": "did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn",
          "proof":
            {
              "type": "Ed25519Signature2018",
              "created": "2021-10-30T19:16:30Z",
              "verificationMethod": "did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn#z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn",
              "proofPurpose": "assertionMethod",
              "jws": "eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..puetBYS3pkYlYzAecBiT-WkigYAlVbslrz9wPFnk9JW4AwjrpJvcsSdZJPhZtNy_myMJUNzC_QaYyw3ni1V0BA",
            },
        }

    Presentation:
      title: Presentation
      type: object
      required:
        - '@context'
        - type
      properties:
        '@context':
          type: array
          items:
            type: string
        id:
          type: string
        type:
          type: array
          items:
            type: string
        holder:
          type: string
        verifiableCredential:
          type: array
          items:
            $ref: '#/presentations/schemas/VerifiableCredential'
      example:
        {
          '@context': ['https://www.w3.org/2018/credentials/v1'],
          'type': ['VerifiablePresentation'],
          'holder': 'did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn',
          'verifiableCredential':
            [
              {
                '@context': ['https://www.w3.org/2018/credentials/v1'],
                'id': 'urn:uuid:07aa969e-b40d-4c1b-ab46-ded252003ded',
                'type': ['VerifiableCredential'],
                'issuer': 'did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn',
                'issuanceDate': '2010-01-01T19:23:24Z',
                'credentialSubject': 'did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn',
                'proof':
                  {
                    'type': 'Ed25519Signature2018',
                    'created': '2021-10-30T19:16:30Z',
                    'verificationMethod': 'did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn#z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn',
                    'proofPurpose': 'assertionMethod',
                    'jws': 'eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..puetBYS3pkYlYzAecBiT-WkigYAlVbslrz9wPFnk9JW4AwjrpJvcsSdZJPhZtNy_myMJUNzC_QaYyw3ni1V0BA',
                  },
              },
            ],
        }

    LinkedDataProof:
      title: Linked Data Proof
      type: object
      description: A JSON-LD Linked Data proof.
      properties:
        type:
          type: string
          description: Linked Data Signature Suite used to produce proof.
          enum: ["JsonWebSignature2020"]
        created:
          type: string
          description: Date the proof was created.
        verificationMethod:
          type: string
          description: Verification Method used to verify proof.
        jws:
          type: string
          description: Detached JSON Web Signature

    PresentationLinkedDataProof:
      title: Presentation Linked Data Proof
      allOf:
        - $ref: '#/presentations/schemas/LinkedDataProof'
        - type: object
          properties:
            proofPurpose:
              type: string
              description: Presentations rely on authentication proof purpose.
              enum: [authentication]

    VerifiablePresentation:
      title: Verifiable Presentation
      type: object
      allOf:
      - $ref: '#/presentations/schemas/Presentation'
      - type: object
        properties:
        proof:
          $ref: '#/presentations/schemas/PresentationLinkedDataProof'
      example:
        {
          "@context": ["https://www.w3.org/2018/credentials/v1"],
          "id": "urn:uuid:07aa969e-b40d-4c1b-ab46-ded252003ded",
          "type": ["VerifiablePresentation"],
          "holder": "did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn",
          "verifiableCredential":
          [
            {
            "@context":
              [
              "https://www.w3.org/2018/credentials/v1",
              "https://w3id.org/vc-revocation-list-2020/v1",
              ],
            "id": "urn:uuid:07aa969e-b40d-4c1b-ab46-ded252003ded",
            "type": ["VerifiableCredential"],
            "issuer": "did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn",
            "issuanceDate": "2010-01-01T19:23:24Z",
            "credentialStatus":
              {
              "id": "https://api.did.actor/revocation-lists/1.json#0",
              "type": "RevocationList2020Status",
              "revocationListIndex": 0,
              "revocationListCredential": "https://api.did.actor/revocation-lists/1.json",
              },
            "credentialSubject": { "id": "did:example:123" },
            "proof":
              {
              "type": "Ed25519Signature2018",
              "created": "2021-10-31T19:14:41Z",
              "verificationMethod": "did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn#z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn",
              "proofPurpose": "assertionMethod",
              "jws": "eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..zH7YvO8ihoDO4NWgzPu4kvvdQJjWAPOUlz7D1551U4uSMqOGjRmEGef6NSbIdxqCy5FxXwOD49KyPRU66LpwBA",
              },
            },
          ],
          "proof":
          {
            "type": "Ed25519Signature2018",
            "created": "2021-10-31T19:15:10Z",
            "verificationMethod": "did:key:z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn#z6MktiSzqF9kqwdU8VkdBKx56EYzXfpgnNPUAGznpicNiWfn",
            "proofPurpose": "authentication",
            "challenge": "e42ab41a-06c3-45f5-878a-b27928aab8bd",
            "jws": "eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..QdPVT5CramMhVx09RJ57IZD2WA4i2Hw0oG9_-i8r4BEyMS36bWSsrnwNd9ERyLEqeo4-6mwUD-swu3Bxsj7lDg",
          },
        }


    Verification:
      title: Verification
      type: object
      properties:
        title:
          type: string
          enum: 
            - Proof
            - Activation
            - Expired
            - Revocation
        status:
          type: string
          enum: 
            - good
            - bad
        description:
          type: string
      required: 
        - title
        - status

    VerificationResult:
      title: Verification Result
      type: object
      properties:
      verified:
        type: boolean
      verifications:
        type: array
        items:
        $ref: #/presentations/schemas/Verification
      required: 
        - verified
      example:
        {
          "verified": true,
          "verifications": [
            {
              "status": "good",
              "title": "Activation",
              "description": "This credential activated 2 weeks ago",
            },
            {
              "status": "good",
              "title": "Signature",
              "description": "did:key:ni5kvh48ZRcVN2gfs6cteK8M1JzJdcwcYJak5R7VkhXeqsHn#z6Mkvh48ZRcVN2gfs6cteK8M1JzJdcwcYJak5R7VkhXeqsHn",
            }
          ]
        }

    NotifyPresentationAvailableRequest:
      title: Notify Presentation Available
      type: object
      properties:
        query:
          type: object
          description: See https://w3c-ccg.github.io/vp-request-spec/#format
          properties:
            type:
              type: string
              description: "The type of query the server should reply with."
            credentialQuery:
              type: object
              description: "Details of the client's available presentation"
      example:
        {
          "query":
            [
              {
                "type": "QueryByExample",
                "credentialQuery":
                  [
                    {
                      "type": ["VerifiableCredential"],
                      "reason": "We want to present credentials.",
                    },
                  ],
              },
            ],
        }


    NotifyPresentationAvailableResponse:
      title: Notify Presentation Requirements
      type: object
      properties:
        query:
          type: object
          description: See https://w3c-ccg.github.io/vp-request-spec/#format
        domain:
          type: string
          description: See https://w3id.org/security#domain
        challenge:
          type: string
          description: See https://w3id.org/security#challenge
      example:
        {
          "query":
            [
              {
                "type": "QueryByExample",
                "credentialQuery":
                  {
                    "example":
                      {
                        "@context": ["https://www.w3.org/2018/credentials/v1"],
                        "type": ["VerifiableCredential"],
                      },
                  },
              },
            ],
          "domain": "verifier.example.com",
          "challenge": "3182bdea-63d9-11ea-b6de-3b7c1404d57f",
        }

session:
  #6.1
  schemas:
    #6.1.1
    Request_logout:
      type: object
      required:
        properties:
          id:
            type: integer
            format: int64

    Responses_logout:
      302:
        description: Redirect
        responseParameters:
          - in: query
            name: status
            description: the status of the instalation
            schema:
              oneOf:
                - type: string
                  example: success
                  description: When the installation was successful
                - type: string
                  example: error
                  description: When the installation was erroneous
        headers:
          location:
            description: Setup state based redirect
            schema:
              oneOf:
                - type: string
                  description: If setup is done and valid for installation id, will
                    redirect to given redirect url
                - type: string
                  description: If no setup exist for installation id, will redirect to
                    SumUp oauth page
                - type: string
                  description: If error during authorization with SumUpl, e.g. non
                    matching editions, will redirect to a setup page for
                    further user action

    #6.1.2
    Responses_check:
      required:
      properties:
        member_uuid:
          type: string
        organization_name:
          type: string
        organization_postcode:
          type: string
        organization_address:
          type: string
        organization_building:
          type: string
        organization_department:
          type: string
        organization_tax_id:
          type: string
        addressCountry:
          type: string
        addressRegion:
          type: string
        addressCity:
          type: string


    #6.1.5
    Request_login:
      type: object
      properties:
        membername:
          type: string
        password:
          type: string

    Responses_login:
      $ref: '#/session/schemas/Responses_updateCompany'

    #6.1.6
    Request_signup:
      type: object
      properties:
        member_did:
          type: string
        member.membername:
          type: string
        member.job_title:
          type: string
        member.contact_email:
          type: string
        password_hash:
          type: string
        company.name:
          type: string
        company.department:
          type: string
        company.tax_id:
          type: string
        address.country:
          type: string
        address.region:
          type: string
        address.postcode:
          type: string
        address.city:
          type: string
        address.line1:
          type: string
        address.line2:
          type: string

    Responses_signup:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string

    Error_signup:
      $ref: '#/error/schemas/Responses_err_msg'

settings:
  #7.1
  schemas:
    #7.1.1
    Request_updateCompany:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_updateCompany:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string
          enum: ["okey"]

    #7.1.2
    Request_updateProfile:
      type: object
      properties:
        id:
          type: integer
          format: int64

    Responses_updateProfile:
      $ref: '#/settings/schemas/Responses_updateCompany'

tray:
  #9.1
  schemas:
    #9.1.1
    Request_getCountBuyer:
      $ref: '#/tray/schemas/Request_getTotalBuyer'

    Responses_getCountBuyer:
      required:
      properties:
        document_uuid:
          type: string
        document_type:
          type: string
        document_number:
          type: string
        document_folder:
          type: string
        seller_uuid:
          type: string
        seller_membername:
          type: string
        seller_organization:
          type: string
        seller_archived:
          type: string
        seller_last_action: date
        buyer_uuid:
          type: string
        buyer_membername:
          type: string
        buyer_organization:
          type: string
        buyer_archived:
          type: string
        buyer_last_action:
          type: string
        created_from:
          type: string
        root_document:
          type: string
        created_on:
          type: date-time
        opened:
          type: string
        subject_line:
          type: string
        due_by:
          type: date-time
        amount_due:
          type: integer
          format: int32

    #9.1.2
    Request_getCountSeller:
      $ref: '#/tray/schemas/Request_getTotalBuyer'

    Responses_getCountSeller:
      $ref: '#/tray/schemas/Responses_getCountBuyer'

    #9.1.3
    Request_getFolderBuyer:
      type: object
      properties:
        archive:
          type: string
        role:
          type: string
        folder:
          type: string
        type:
          type: string
        key: 
          - type: string
              

    Responses_getFolderBuyer: #contacts/ng
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          - properties:
            

    #9.1.4
    Request_getFolderSeller:
      $ref: '#/tray/schemas/Request_getFolderBuyer'

    Responses_getFolderSeller:
      $ref: '#/tray/schemas/Responses_getFolderBuyer'

    #9.1.5
    Request_getTotalBuyer: #ok
      type: object
      properties:
        archive:
          type: string
        role:
          type: string
        folder:
          type: string
        type:
          type: string

    Responses_getTotalBuyer:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string

    #9.1.6
    Request_getTotalSeller:
      $ref: '#/tray/schemas/Request_getTotalBuyer'

    Responses_getTotalSeller:
      $ref: '#/tray/schemas/Responses_getTotalBuyer'


trayArchive:
  #10.1
  schemas:
    #10.1.1
    Request_getCountBuyer:
      $ref: '#/trayArchive/schemas/Request_getTotalBuyer'

    Responses_getCountBuyer:
      required:
      properties:
        document_uuid:
          type: string
        document_type:
          type: string
        document_number:
          type: string
        document_folder:
          type: string
        seller_uuid:
          type: string
        seller_membername:
          type: string
        seller_organization:
          type: string
        seller_archived:
          type: string
        seller_last_action:
          type: date-time
        buyer_uuid:
          type: string
        buyer_membername:
          type: string
        buyer_organization:
          type: string
        buyer_archived:
          type: string
        buyer_last_action:
          type: string
        created_from:
          type: string
        root_document:
          type: string
        created_on:
          type: date-time
        opened:
          type: string
        subject_line:
          type: string
        due_by:
          type: date-time
        amount_due:
          type: integer
          format: int32

    #10.1.2
    Request_getCountSeller:
      $ref: '#/trayArchive/schemas/Request_getTotalBuyer'

    Responses_getCountSeller:
      $ref: '#/trayArchive/schemas/Responses_getCountBuyer'

    #10.1.3
    Request_getFolderBuyer:
      type: object
      properties:
        archive:
          type: string
        role:
          type: string
        folder:
          type: string
        type:
          type: string
        key: 
          - type: string
              

    Responses_getFolderBuyer: #ng
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          - properties:
            

    #10.1.4
    Request_getFolderSeller:
      $ref: '#/trayArchive/schemas/Request_getFolderBuyer'

    Responses_getFolderSeller:
      $ref: '#/trayArchive/schemas/Responses_getFolderBuyer'

    #10.1.5
    Request_getTotalBuyer: #ok
      type: object
      properties:
        archive:
          type: string
        role:
          type: string
        folder:
          type: string
        type:
          type: string

    Responses_getTotalBuyer:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string

    #10.1.6
    Request_getTotalSeller:
      $ref: '#/trayArchive/schemas/Request_getTotalBuyer'

    Responses_getTotalSeller:
      $ref: '#/trayArchive/schemas/Responses_getTotalBuyer'

trayDraft:
  #11.1
  schemas:
    #11.1.1
    Request_getCountSeller:
      $ref: '#/trayArchive/schemas/Request_getTotalBuyer'

    Responses_getCountSeller:
      required:
      properties:
        document_uuid:
          type: string
        document_type:
          type: string
        document_number:
          type: string
        document_folder:
          type: string
        seller_uuid:
          type: string
        seller_membername:
          type: string
        seller_organization:
          type: string
        seller_archived:
          type: string
        seller_last_action:
          type: date-time
        buyer_uuid:
          type: string
        buyer_membername:
          type: string
        buyer_organization:
          type: string
        buyer_archived:
          type: string
        buyer_last_action:
          type: string
        created_from:
          type: string
        root_document:
          type: string
        created_on:
          type: date-time
        opened:
          type: string
        subject_line:
          type: string
        due_by:
          type: date-time
        amount_due:
          type: integer
          format: int32

    #11.1.2
    Request_getFolderSeller:
      type: object
      properties:
        archive:
          type: string
        role:
          type: string
        folder:
          type: string
        type:
          type: string
        key: 
          - type: string
              

    Responses_getFolderBuyer: #ng
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          - properties:
            
    #11.1.3
    Request_getTotalSeller: #ok
      type: object
      properties:
        archive:
          type: string
        role:
          type: string
        folder:
          type: string
        type:
          type: string

    Responses_getTotalBuyer:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string

wallet:
  #12.1
  schemas:

    #12.1.1

    Responses_getReceiptInResentActivity:
      $ref: '#/wallet/schemas/Responses_getTransactionReceipt'

    #12.1.2
    Responses_getResentActivityOfWallet: #ok
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: object
          properties:
            activity:
              type: array
              items:
                type: object
                properties: 
                  document_uuid:
                    type: string
                  document_json:
                    type: string
                  settlement_hash:
                    type: string
                  settlement_time:
                    type: string
                  type:
                    type: string
                    enum: ["Sale","Purchase"]
                  amount:
                    type: integer
                    format: int32

    #12.1.3
    Responses_getWalletInfo:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: object
          properties:
            balanceGwei:
              type: string
            accountAddress:
              type: string
            networkType:
              type: string
              enum: ["private","public"]
            chainId:
              type: integer
              format: int32

    #12.1.4

    Responses_getCurrentBalanceOfBuyer:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: object
          properties:
            transaction_result:
              type: object
              properties:
                balanceGwei:
                  type: string
                makePaymantTo:
                  type: string
                transferCost:
                  type: string
                gas:
                  type: string
                endBalance:
                  type: string

    #12.1.5
    Request_getTransactionReceipt: #ok
      type: object
      properties:
        document_uuid:
          type: string
        role:
          type: string
          enum: ["buyer","seller"]
        archive:
          type: integer
          format: int64

    Responses_getTransactionReceipt:
      required:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: object
          properties:
            receipt:
              type: object
              properties:
                status:
                  type: "boolean"
                  default: true
                transactionHash:
                  contractAddress:
                transactionIndex:
                  type: integer
                  format: int64
                blockHash:
                  contractAddress:
                blockNumber:
                  type: integer
                  format: int64
                contractAddress:
                  type: string
                cumulativeGasUsed:
                  type: integer
                  format: int64
                gasUsed:
                  type: integer
                  format: int64
                logs:
                  - {  }

    #12.1.6
    Responses_getIPFScidByTransactionHash:
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: object
          properties:
            ipfs_cid:
              type: string
            ipfs_address:
              type: string

error:
  schemas:
    Responses_err_msg:
      type: object
      required:
        - err
        - msg
      properties:
        err:
          type: integer
          format: int32
        msg:
          type: string

# security
security: []
